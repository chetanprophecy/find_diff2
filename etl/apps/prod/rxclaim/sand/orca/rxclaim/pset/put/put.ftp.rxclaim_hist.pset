!prototype|P|||$AI_PLAN/put.ftp.rxclaim.plan
DATA_FTP_PSET||||$AI_PSET/ftp_list/put.ftp_list.data.pset
CTL_FTP_PSET||||$AI_PSET/ftp_list/put.ftp_list.ctl.pset
META_FTP_PSET||||$AI_PSET/ftp_list/put.ftp_list.meta.pset
RESOURCE_NAME||||ECG_SFTP_PUT
RESOURCE_POOL||||$PUB_DATAHUB_RESOURCE/source.system.pool
DATA_REMOTE_FILE||||$[\r\nbegin\r\nlet string("") v_file = string_substring(DATA_FILE, string_rindex(DATA_FILE,"/") + 1, 999);\r\nlet string("")[int] v_break_file_nm = string_split_no_empty(v_file,".dat");\r\nlet string("") v_final_file = "";\r\n\r\nfor (let int i = 0, i < length_of(v_break_file_nm) )\r\nbegin\r\n        v_final_file =  if( i == 0)\r\n                                v_final_file + v_break_file_nm[i] + "_" + FILE_TIMESTAMP + ".dat" \r\n                        else\r\n                                v_final_file + v_break_file_nm[i];\r\nend\r\nresult :: SFTP_LOCATION + "/./HIST_" + v_final_file;\r\n\r\nend]
CTL_REMOTE_FILE||||$[\r\nbegin\r\nlet string("") v_file = string_substring(CTL_FILE, string_rindex(CTL_FILE,"/") + 1, 999);\r\nlet string("")[int] v_break_file_nm = string_split_no_empty(v_file,".ctl");\r\nlet string("") v_final_file = "";\r\n\r\nfor (let int i = 0, i < length_of(v_break_file_nm) )\r\nbegin\r\n        v_final_file =  if( i == 0)\r\n                                v_final_file + v_break_file_nm[i] + "_" + FILE_TIMESTAMP + ".ctl" \r\n                        else\r\n                                v_final_file + v_break_file_nm[i];\r\nend\r\nresult :: SFTP_LOCATION + "/./HIST_" + v_final_file;\r\n\r\nend]
META_REMOTE_FILE||||$[\r\nbegin\r\nlet string("") v_file = string_substring(META_FILE, string_rindex(META_FILE,"/") + 1, 999);\r\nlet string("")[int] v_break_file_nm = string_split_no_empty(v_file,".meta");\r\nlet string("") v_final_file = "";\r\n\r\nfor (let int i = 0, i < length_of(v_break_file_nm) )\r\nbegin\r\n        v_final_file =  if( i == 0)\r\n                                v_final_file + v_break_file_nm[i] + "_" + FILE_TIMESTAMP + ".meta" \r\n                        else\r\n                                v_final_file + v_break_file_nm[i];\r\nend\r\nresult :: SFTP_LOCATION + "/./HIST_" + v_final_file;\r\n\r\nend]
