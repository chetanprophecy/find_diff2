/*   Do not edit. Generated file - BRE 4.0.2.18;;Default deployment;   */
include '~$AI_XFR/bre_helper.map.xfr';


/*@ BizHidden:true @*/
/*   lookup LKP:D_CAG   */
out0::bzt_1_6c54cc0a_5b83a2f7_1e1_0(in0)=
begin
let record
  integer(8) dxf_sk = 0;
  decimal("\x01",0) carrier_sk = NULL(""), carrier_acct_sk = NULL("");
  string("\x01",charset="iso-8859-15", maximum_length=50) client_id = NULL("");
  string("\x01",charset="iso-8859-15", maximum_length=30) carrier_id = NULL("");
  string("\x01",charset="iso-8859-15", maximum_length=40) account_id = NULL("");
  string("\x01",charset="iso-8859-15", maximum_length=30) employer_group_id = NULL("");
  string("\x01",charset="iso-8859-15", maximum_length=50) carrier_nm = NULL(""), account_nm = NULL(""), employer_group_nm = NULL("");
  string("\x01",charset="iso-8859-15", maximum_length=5) contract_num = NULL("");
  string("\x01",charset="iso-8859-15", maximum_length=3) pbp_id = NULL(""), gps_plan_cd = NULL("");
  string("\x01",charset="iso-8859-15", maximum_length=1) hm_dlvry_only_ind = NULL(""), hm_dlvry_stat_ind = NULL(""), rebates_only_ind = NULL(""), rebates_stat_ind = NULL("");
  datetime("YYYYMMDDHH24MISS")("\x01") ids_updt_dttm = NULL("");
end __bzt_local_res__;
__bzt_local_res__ = fail_if_error(lookup("LKP:D_CAG",in0));
  out0::__bzt_local_res__;
end;

out0::Untitled_Ruleset_documentation(in)=
begin

out0.f_sav_apd.reprocess_pat_pay_amt::depends_on(
         in.f_sav_apd.reprocess_pat_pay_amt,
         in.f_sav_apd.claim_stat_id
         );


out0.f_sav_apd.pay_amt::depends_on(
         in.f_sav_apd.pay_amt,
         in.f_sav_apd.claim_stat_id
         );


out0.f_sav_apd.oth_payer_pay_amt::depends_on(
         in.f_sav_apd.oth_payer_pay_amt,
         in.f_sav_apd.claim_stat_id
         );


out0.f_sav_apd.pos_rebate_amt::depends_on(
         in.f_sav_apd.pos_rebate_amt,
         in.f_sav_apd.claim_stat_id
         );


out0.f_sav_apd.adj_sec_diff::depends_on(
         in.f_sav_apd.adj_sec_diff,
         in.f_sav_apd.claim_stat_id
         );


out0.f_sav_apd.carrier_sk::depends_on(
         in.f_sav_apd.cag_sk,
         lookup("LKP:D_CAG",'keystr').carrier_sk  
         );


out0.f_sav_apd.mbr_pay_amt::depends_on(
         in.f_sav_apd.mbr_pay_amt,
         in.f_sav_apd.claim_stat_id
         );


out0.f_sav_apd.adj_prim_liab::depends_on(
         in.f_sav_apd.adj_prim_liab,
         in.f_sav_apd.claim_stat_id
         );

out0.*::in.*;
end;

/*@
dependency_analysis_function:Untitled_Ruleset_documentation
metrics:
{
  dependencies:
  [
     [out0.f_sav_apd.sav_acct_id,'f_sav_apd.sav_acct_id',1,0]
     [out0.f_sav_apd.claim_nbr_encrp,'f_sav_apd.claim_nbr_encrp',1,0]
     [out0.f_sav_apd.src_insert_tm,'f_sav_apd.src_insert_tm',1,0]
     [out0.f_sav_apd.src_insert_uid,'f_sav_apd.src_insert_uid',1,0]
     [out0.f_sav_apd.pay_phr_flg,'f_sav_apd.pay_phr_flg',1,0]
     [out0.f_sav_apd.adjustment_typ,'f_sav_apd.adjustment_typ',1,0]
     [out0.f_sav_apd.src_update_dt,'f_sav_apd.src_update_dt',1,0]
     [out0.f_sav_apd.mbr_sk,'f_sav_apd.mbr_sk',1,0]
     [out0.f_sav_apd.reprocess_pat_pay_amt,'f_sav_apd.reprocess_pat_pay_amt',1,1]
     [out0.f_sav_apd.pay_amt,'f_sav_apd.pay_amt',1,1]
     [out0.d_mbr.employer_group_id,'d_mbr.employer_group_id',1,0]
     [out0.f_sav_apd.oth_payer_pay_amt,'f_sav_apd.oth_payer_pay_amt',1,1]
     [out0.f_sav_apd.src_insert_dt,'f_sav_apd.src_insert_dt',1,0]
     [out0.f_sav_apd.src_env_sk,'f_sav_apd.src_env_sk',1,0]
     [out0.f_sav_apd.claim_seq_nbr,'f_sav_apd.claim_seq_nbr',1,0]
     [out0.f_sav_apd.payment_sys_ind,'f_sav_apd.payment_sys_ind',1,0]
     [out0.d_mbr.account_id,'d_mbr.account_id',1,0]
     [out0.f_sav_apd.claim_stat_id,'f_sav_apd.claim_stat_id',1,0]
     [out0.f_sav_apd.reprocess_user,'f_sav_apd.reprocess_user',1,0]
     [out0.f_sav_apd.is_equal,'f_sav_apd.is_equal',1,0]
     [out0.f_sav_apd.cag_sk,'f_sav_apd.cag_sk',1,0]
     [out0.f_sav_apd.src_update_uid,'f_sav_apd.src_update_uid',1,0]
     [out0.f_sav_apd.sav_acct_subtype_id,'f_sav_apd.sav_acct_subtype_id',1,0]
     [out0.f_sav_apd.pos_financial_field_applied_desc,'f_sav_apd.pos_financial_field_applied_desc',1,0]
     [out0.f_sav_apd.claim_nbr,'f_sav_apd.claim_nbr',1,0]
     [out0.f_sav_apd.dxf_src_dataset_id,'DXF Source Dataset ID',1,0]
     [out0.f_sav_apd.src_update_tm,'f_sav_apd.src_update_tm',1,0]
     [out0.f_sav_apd.pos_rebate_amt,'f_sav_apd.pos_rebate_amt',1,1]
     [out0.f_sav_apd.reprocess_posted_dt,'f_sav_apd.reprocess_posted_dt',1,0]
     [out0.f_sav_apd.financial_fld_applied_ind,'f_sav_apd.financial_fld_applied_ind',1,0]
     [out0.f_sav_apd.reprocess_pay_nbr,'f_sav_apd.reprocess_pay_nbr',1,0]
     [out0.f_sav_apd.dxf_hk_part2,'f_sav_apd.dxf_hk_part2',1,0]
     [out0.d_cg.carrier_id,'d_cg.carrier_id',1,0]
     [out0.f_sav_apd.reprocess_claim_seq,'f_sav_apd.reprocess_claim_seq',1,0]
     [out0.f_sav_apd.reprocess_chk_nbr,'f_sav_apd.reprocess_chk_nbr',1,0]
     [out0.d_mbr.mbr_id,'d_mbr.mbr_id',1,0]
     [out0.f_sav_apd.pos_id,'f_sav_apd.pos_id',1,0]
     [out0.f_sav_apd.adjustment_seq,'f_sav_apd.adjustment_seq',1,0]
     [out0.f_sav_apd.extract_flg,'f_sav_apd.extract_flg',1,0]
     [out0.d_mbr.carrier_id,'d_mbr.carrier_id',1,0]
     [out0.f_sav_apd.src_insert_prog_nm,'f_sav_apd.src_insert_prog_nm',1,0]
     [out0.newline,'newline',1,0]
     [out0.f_sav_apd.reprocess_dt,'f_sav_apd.reprocess_dt',1,0]
     [out0.f_sav_apd.dxf_src_file_name,'DXF Source File Name',1,0]
     [out0.f_sav_apd.pos_financial_field_applied,'f_sav_apd.pos_financial_field_applied',1,0]
     [out0.d_cg.account_id,'d_cg.account_id',1,0]
     [out0.f_sav_apd.sec_flg,'f_sav_apd.sec_flg',1,0]
     [out0.f_sav_apd.adj_sec_diff,'f_sav_apd.adj_sec_diff',1,1]
     [out0.f_sav_apd.rxclaim_src,'f_sav_apd.rxclaim_src',1,0]
     [out0.f_sav_apd.src_update_prog_nm,'f_sav_apd.src_update_prog_nm',1,0]
     [out0.f_sav_apd.drop_record,'f_sav_apd.drop_record',1,0]
     [out0.f_sav_apd.carrier_sk,'f_sav_apd.carrier_sk',1,0]
     [out0.f_sav_apd.dxf_hk_part1,'f_sav_apd.dxf_hk_part1',1,0]
     [out0.d_cg.employer_group_id,'d_cg.employer_group_id',1,0]
     [out0.f_sav_apd.matching__eff_dt,'f_sav_apd.matching__eff_dt',1,0]
     [out0.f_sav_apd.dxf_src_rec_cnt,'DXF Source Record Count',1,0]
     [out0.f_sav_apd.dxf_src_sys_id,'DXF Source System ID',1,0]
     [out0.f_sav_apd.mbr_pay_amt,'f_sav_apd.mbr_pay_amt',1,1]
     [out0.f_sav_apd.dxf_sk,'f_sav_apd.dxf_sk',1,0]
     [out0.f_sav_apd.adj_prim_liab,'f_sav_apd.adj_prim_liab',1,1]
  ]
  impacts:
  [
     [in0.f_sav_apd.adj_prim_liab,'adj_prim_liab',2,2]
     [in0.f_sav_apd.src_insert_tm,'src_insert_tm',1,1]
     [in0.d_mbr.carrier_id,'carrier_id',1,1]
     [in0.f_sav_apd.claim_stat_id,'claim_stat_id',7,14]
     [in0.f_sav_apd.pay_amt,'pay_amt',2,2]
     [in0.f_sav_apd.dxf_hk_part1,'dxf_hk_part1',1,1]
     [in0.f_sav_apd.reprocess_claim_seq,'reprocess_claim_seq',1,1]
     [in0.f_sav_apd.src_update_uid,'src_update_uid',1,1]
     [in0.f_sav_apd.matching__eff_dt,'matching__eff_dt',1,1]
     [in0.d_mbr.account_id,'account_id',1,1]
     [in0.f_sav_apd.adj_sec_diff,'adj_sec_diff',2,2]
     [in0.f_sav_apd.mbr_pay_amt,'mbr_pay_amt',2,2]
     [in0.f_sav_apd.mbr_sk,'mbr_sk',1,1]
     [in0.newline,'newline',1,1]
     [in0.f_sav_apd.pos_rebate_amt,'pos_rebate_amt',2,2]
     [in0.f_sav_apd.financial_fld_applied_ind,'financial_fld_applied_ind',1,1]
     [in0.f_sav_apd.sec_flg,'sec_flg',1,1]
     [in0.f_sav_apd.adjustment_typ,'adjustment_typ',1,1]
     [in0.d_cg.employer_group_id,'employer_group_id',1,1]
     [in0.f_sav_apd.src_update_dt,'src_update_dt',1,1]
     [in0.d_cg.account_id,'account_id',1,1]
     [in0.f_sav_apd.pos_id,'pos_id',1,1]
     [in0.f_sav_apd.reprocess_posted_dt,'reprocess_posted_dt',1,1]
     [in0.d_cg.carrier_id,'carrier_id',1,1]
     [in0.f_sav_apd.claim_nbr,'claim_nbr',1,1]
     [in0.f_sav_apd.pos_financial_field_applied,'pos_financial_field_applied',1,1]
     [in0.f_sav_apd.dxf_sk,'dxf_sk',1,1]
     [in0.f_sav_apd.claim_seq_nbr,'claim_seq_nbr',1,1]
     [in0.f_sav_apd.reprocess_chk_nbr,'reprocess_chk_nbr',1,1]
     [in0.f_sav_apd.adjustment_seq,'adjustment_seq',1,1]
     [in0.f_sav_apd.src_insert_prog_nm,'src_insert_prog_nm',1,1]
     [in0.f_sav_apd.src_env_sk,'src_env_sk',1,1]
     [in0.f_sav_apd.oth_payer_pay_amt,'oth_payer_pay_amt',2,2]
     [in0.f_sav_apd.dxf_src_rec_cnt,'DXF Source Record Count',1,1]
     [in0.d_mbr.employer_group_id,'employer_group_id',1,1]
     [in0.f_sav_apd.is_equal,'is_equal',1,1]
     [in0.f_sav_apd.reprocess_dt,'reprocess_dt',1,1]
     [in0.f_sav_apd.dxf_src_sys_id,'DXF Source System ID',1,1]
     [in0.f_sav_apd.reprocess_user,'reprocess_user',1,1]
     [in0.f_sav_apd.claim_stat_id,'claim_stat_id',1,1]
     [in0.f_sav_apd.claim_nbr_encrp,'claim_nbr_encrp',1,1]
     [in0.f_sav_apd.dxf_src_dataset_id,'DXF Source Dataset ID',1,1]
     [in0.f_sav_apd.src_insert_uid,'src_insert_uid',1,1]
     [in0.f_sav_apd.sav_acct_id,'sav_acct_id',1,1]
     [in0.f_sav_apd.dxf_hk_part2,'dxf_hk_part2',1,1]
     [in0.f_sav_apd.sav_acct_subtype_id,'sav_acct_subtype_id',1,1]
     [in0.f_sav_apd.src_update_tm,'src_update_tm',1,1]
     [in0.f_sav_apd.src_update_prog_nm,'src_update_prog_nm',1,1]
     [in0.f_sav_apd.drop_record,'drop_record',1,1]
     [in0.f_sav_apd.pay_phr_flg,'pay_phr_flg',1,1]
     [in0.f_sav_apd.rxclaim_src,'rxclaim_src',1,1]
     [in0.f_sav_apd.pos_financial_field_applied_desc,'pos_financial_field_applied_desc',1,1]
     [in0.f_sav_apd.dxf_src_file_name,'DXF Source File Name',1,1]
     [in0.f_sav_apd.extract_flg,'extract_flg',1,1]
     [in0.f_sav_apd.reprocess_pat_pay_amt,'reprocess_pat_pay_amt',2,2]
     [in0.d_mbr.mbr_id,'mbr_id',1,1]
     [in0.f_sav_apd.payment_sys_ind,'payment_sys_ind',1,1]
     [in0.f_sav_apd.cag_sk,'cag_sk',2,2]
     [in0.f_sav_apd.reprocess_pay_nbr,'reprocess_pay_nbr',1,1]
     [in0.f_sav_apd.src_insert_dt,'src_insert_dt',1,1]
     ['lookup("LKP:D_CAG").carrier_sk','carrier_sk',1,1]
  ]
}
@*/

out0::reformat(in0)=
begin
let decimal("\x01".2, maximum_length=11, sign_reserved) f_sav_apd_oth_payer_pay_amt;
let decimal("\x01".2, maximum_length=11, sign_reserved) f_sav_apd_mbr_pay_amt;
let decimal("\x01".2, maximum_length=11, sign_reserved) f_sav_apd_pay_amt;
let decimal("\x01".2, maximum_length=11, sign_reserved) f_sav_apd_reprocess_pat_pay_amt;
let decimal("\x01".2, maximum_length=17, sign_reserved) f_sav_apd_pos_rebate_amt;
let decimal("\x01".2, maximum_length=11, sign_reserved) f_sav_apd_adj_prim_liab;
let decimal("\x01".2, maximum_length=11, sign_reserved) f_sav_apd_adj_sec_diff;
let decimal("\x01",0) f_sav_apd_carrier_sk;
let unicode decimal('') oth_payer_pay_amt = fail_if_error(if  (in0.f_sav_apd.claim_stat_id member  [vector  'X','Z' ] )(-1 * in0.f_sav_apd.oth_payer_pay_amt)  else in0.f_sav_apd.oth_payer_pay_amt);
let unicode decimal('') mbr_pay_amt = fail_if_error(if  (in0.f_sav_apd.claim_stat_id member  [vector  'X','Z' ] )(-1 * in0.f_sav_apd.mbr_pay_amt)  else in0.f_sav_apd.mbr_pay_amt);
let unicode decimal('') pay_amt = fail_if_error(if  (in0.f_sav_apd.claim_stat_id member  [vector  'X','Z' ] )(-1 * in0.f_sav_apd.pay_amt)  else in0.f_sav_apd.pay_amt);
let unicode decimal('') reprocess_pat_pay_amt = fail_if_error(if  (in0.f_sav_apd.claim_stat_id member  [vector  'X','Z' ] )(-1 * in0.f_sav_apd.reprocess_pat_pay_amt)  else in0.f_sav_apd.reprocess_pat_pay_amt);
let unicode decimal('') pos_rebate_amt = fail_if_error(if  (in0.f_sav_apd.claim_stat_id member  [vector  'X','Z' ] )(-1 * in0.f_sav_apd.pos_rebate_amt)  else in0.f_sav_apd.pos_rebate_amt);
let unicode decimal('') adj_prim_liab = fail_if_error(if  (in0.f_sav_apd.claim_stat_id member  [vector  'X','Z' ] )(-1 * in0.f_sav_apd.adj_prim_liab)  else in0.f_sav_apd.adj_prim_liab);
let unicode decimal('') adj_sec_diff = fail_if_error(if  (in0.f_sav_apd.claim_stat_id member  [vector  'X','Z' ] )(-1 * in0.f_sav_apd.adj_sec_diff)  else in0.f_sav_apd.adj_sec_diff);



/*   Default value   */
f_sav_apd_reprocess_pat_pay_amt=fail_if_error(reprocess_pat_pay_amt);

/*   Default value   */
f_sav_apd_adj_sec_diff=fail_if_error(adj_sec_diff);

/*   Default value   */
f_sav_apd_adj_prim_liab=fail_if_error(adj_prim_liab);

/*   Default value   */
f_sav_apd_pay_amt=fail_if_error(pay_amt);

/*   Default value   */
f_sav_apd_pos_rebate_amt=fail_if_error(pos_rebate_amt);

/*   Default value   */
f_sav_apd_mbr_pay_amt=fail_if_error(mbr_pay_amt);

/*   Default value   */
f_sav_apd_oth_payer_pay_amt=fail_if_error(oth_payer_pay_amt);

/*   Default value   */
f_sav_apd_carrier_sk=fail_if_error(bzt_1_6c54cc0a_5b83a2f7_1e1_0(in0.f_sav_apd.cag_sk).carrier_sk);

  out0.f_sav_apd.oth_payer_pay_amt::f_sav_apd_oth_payer_pay_amt;
  out0.f_sav_apd.mbr_pay_amt::f_sav_apd_mbr_pay_amt;
  out0.f_sav_apd.pay_amt::f_sav_apd_pay_amt;
  out0.f_sav_apd.reprocess_pat_pay_amt::f_sav_apd_reprocess_pat_pay_amt;
  out0.f_sav_apd.pos_rebate_amt::f_sav_apd_pos_rebate_amt;
  out0.f_sav_apd.adj_prim_liab::f_sav_apd_adj_prim_liab;
  out0.f_sav_apd.adj_sec_diff::f_sav_apd_adj_sec_diff;
  out0.f_sav_apd.carrier_sk::f_sav_apd_carrier_sk;
  out0.*::in0.*;
end;
