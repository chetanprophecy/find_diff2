/*   Do not edit. Generated file - BRE 3.2.6.4;;Default deployment;   */
include '~$AI_XFR/bre_helper.map.xfr';


/*@
    Name:bzt_2_6c54cc0a_5bed2861_2e80_2
    BizHidden:true
@*/
/*   lookup rcpkdp   */
out0::bzt_2_6c54cc0a_5bed2861_2e80_2(in0)=
begin
let record
  string("\x01", maximum_length=5) soedc4 = NULL("");
  string("\x01", maximum_length=10) sobxt3 = NULL(""), soakvn = NULL("");
  decimal("\x01",0, maximum_length=8) soc2dt = NULL("");
  decimal("\x01",0, maximum_length=7) soadtm = NULL("");
  string("\x01", maximum_length=10) soalvn = NULL(""), soadvn = NULL("");
  decimal("\x01",0, maximum_length=8) sobmdt = NULL("");
  decimal("\x01",0, maximum_length=7) soabtm = NULL("");
  string("\x01", maximum_length=10) soaevn = NULL("");
  string(1) newline = "\n";
end __bzt_local_res__;
__bzt_local_res__ = fail_if_error(lookup("rcpkdp",in0));
  out0::__bzt_local_res__;
end;
let string(int) bzt_0_6c54cc0a_5bed2861_2e80_2 = $RUN_ID;

/*@
dependency_analysis:
[
  [out0.ggpd.pkg_qty,[passthrough],in0.tvfdqt]
  [out0.ggpd.src_env_sk,[passthrough],in0.dxf_src_sys_id]
  [out0.ggpd.src_update_ts,[transform],in0.tvabtm,
     in0.tvbmdt]
  [out0.ggpd.src_update_uid,[passthrough],in0.tvadvn]
  [out0.ggpd.stat_cd,[passthrough],in0.tvwks3]
  [out0.ggpd.src_update_prog_nm,[passthrough],in0.tvaevn]
  [out0.ggpd.pkg_size_uom_cd,[passthrough],in0.tvwis3]
  [out0.ggpd.gpi_sk,[transform],]
  [out0.ggpd.pkg_desc,[transform],in0.tvedc4,
     'lookup("rcpkdp").sobxt3']
  [out0.ggpd.gpi_id,[passthrough],in0.tvefc4]
  [out0.ggpd.gpi_gppc_sk,[transform],]
  [out0.gpi.gpi_id,[passthrough],in0.tvefc4]
  [out0.ggpd.gppc_suffix_3,[passthrough],in0.tvlyc4]
  [out0.ggpd.pkg_desc_cd,[passthrough],in0.tvedc4]
  [out0.ggpd.src_insert_prog_nm,[passthrough],in0.tvalvn]
  [out0.ggpd.pkg_size,[passthrough],in0.tvfcqt]
  [out0.ggpd.gppc_id,[passthrough],in0.tvkcc4]
  [out0.ggpd.src_insert_ts,[transform],in0.tvadtm,
     in0.tvc2dt]
  [out0.ggpd.src_insert_uid,[passthrough],in0.tvakvn]
  [out0.ggpd.drg_unit_dose_use_ind,[passthrough],in0.tvwjs3]
  [out0.*,in0.*]
]
metrics:
{
  dependencies:
  [
     [out0.ggpd.pkg_qty,'ggpd.pkg_qty',1,0]
     [out0.ggpd.src_env_sk,'ggpd.src_env_sk',1,0]
     [out0.ggpd.src_update_ts,'ggpd.src_update_ts',1,0]
     [out0.ggpd.src_update_uid,'ggpd.src_update_uid',1,0]
     [out0.ggpd.stat_cd,'ggpd.stat_cd',1,0]
     [out0.ggpd.src_update_prog_nm,'ggpd.src_update_prog_nm',1,0]
     [out0.ggpd.pkg_size_uom_cd,'ggpd.pkg_size_uom_cd',1,0]
     [out0.ggpd.gpi_sk,'ggpd.gpi_sk',1,0]
     [out0.ggpd.pkg_desc,'ggpd.pkg_desc',1,0]
     [out0.ggpd.gpi_id,'ggpd.gpi_id',1,0]
     [out0.ggpd.gpi_gppc_sk,'ggpd.gpi_gppc_sk',1,0]
     [out0.dxf_src_rec_cnt,'DXF Source Record Count',1,0]
     [out0.dxf_src_sys_id,'DXF Source System ID',1,0]
     [out0.gpi.gpi_id,'gpi.gpi_id',1,0]
     [out0.ggpd.gppc_suffix_3,'ggpd.gppc_suffix_3',1,0]
     [out0.ggpd.pkg_desc_cd,'ggpd.pkg_desc_cd',1,0]
     [out0.dxf_src_file_name,'DXF Source File Name',1,0]
     [out0.ggpd.src_insert_prog_nm,'ggpd.src_insert_prog_nm',1,0]
     [out0.ggpd.pkg_size,'ggpd.pkg_size',1,0]
     [out0.ggpd.gppc_id,'ggpd.gppc_id',1,0]
     [out0.ggpd.src_insert_ts,'ggpd.src_insert_ts',1,0]
     [out0.ggpd.src_insert_uid,'ggpd.src_insert_uid',1,0]
     [out0.dxf_src_dataset_id,'DXF Source Dataset ID',1,0]
     [out0.ggpd.drg_unit_dose_use_ind,'ggpd.drg_unit_dose_use_ind',1,0]
  ]
  impacts:
  [
     [in0.tvkcc4,'tvkcc4',1,1]
     [in0.tvefc4,'tvefc4',2,2]
     ['lookup("rcpkdp").sobxt3','sobxt3',1,1]
     [in0.tvfcqt,'tvfcqt',1,1]
     [in0.tvlyc4,'tvlyc4',1,1]
     [in0.dxf_src_dataset_id,'DXF Source Dataset ID',1,1]
     [in0.tvedc4,'tvedc4',2,2]
     [in0.tvfdqt,'tvfdqt',1,1]
     [in0.tvalvn,'tvalvn',1,1]
     [in0.dxf_src_file_name,'DXF Source File Name',1,1]
     [in0.tvadtm,'tvadtm',3,1]
     [in0.tvakvn,'tvakvn',1,1]
     [in0.dxf_src_rec_cnt,'DXF Source Record Count',1,1]
     [in0.dxf_src_sys_id,'DXF Source System ID',2,2]
     [in0.tvwks3,'tvwks3',1,1]
     [in0.tvabtm,'tvabtm',3,1]
     [in0.tvwjs3,'tvwjs3',1,1]
     [in0.tvadvn,'tvadvn',1,1]
     [in0.tvaevn,'tvaevn',1,1]
     [in0.tvbmdt,'tvbmdt',1,1]
     [in0.tvc2dt,'tvc2dt',1,1]
     [in0.tvwis3,'tvwis3',1,1]
  ]
}
@*/

out0::reformat(in0)=
begin
let decimal("\x01",0) ggpd_gpi_gppc_sk = -1;
let decimal("\x01",0) ggpd_gpi_sk = -1;
let string("\x01",charset="iso-8859-15", maximum_length=10) ggpd_gppc_id = fail_if_error(in0.tvkcc4);
let string("\x01",charset="iso-8859-15", maximum_length=14) ggpd_gpi_id = fail_if_error(in0.tvefc4);
let string("\x01",charset="iso-8859-15", maximum_length=5) ggpd_pkg_desc_cd = fail_if_error(in0.tvedc4);
let string("\x01",charset="iso-8859-15", maximum_length=10) ggpd_pkg_desc;
let decimal("\x01".3, maximum_length=11, sign_reserved) ggpd_pkg_size = fail_if_error(in0.tvfcqt);
let string("\x01",charset="iso-8859-15", maximum_length=2) ggpd_pkg_size_uom_cd = fail_if_error(in0.tvwis3);
let decimal("\x01",0) ggpd_pkg_qty = fail_if_error(in0.tvfdqt);
let string("\x01",charset="iso-8859-15", maximum_length=1) ggpd_drg_unit_dose_use_ind = fail_if_error(in0.tvwjs3);
let string("\x01",charset="iso-8859-15", maximum_length=3) ggpd_gppc_suffix_3 = fail_if_error(in0.tvlyc4);
let string("\x01",charset="iso-8859-15", maximum_length=1) ggpd_stat_cd = fail_if_error(in0.tvwks3);
let string("\x01",charset="iso-8859-15", maximum_length=10) ggpd_src_insert_uid = fail_if_error(in0.tvakvn);
let datetime("YYYYMMDD HH24:MI:SS")("\x01") ggpd_src_insert_ts;
let string("\x01",charset="iso-8859-15", maximum_length=10) ggpd_src_insert_prog_nm = fail_if_error(in0.tvalvn);
let string("\x01",charset="iso-8859-15", maximum_length=10) ggpd_src_update_uid = fail_if_error(in0.tvadvn);
let datetime("YYYYMMDD HH24:MI:SS")("\x01") ggpd_src_update_ts;
let string("\x01",charset="iso-8859-15", maximum_length=10) ggpd_src_update_prog_nm = fail_if_error(in0.tvaevn);
let decimal("\x01",0) ggpd_src_env_sk = fail_if_error(in0.dxf_src_sys_id);
let string("\x01",charset="iso-8859-15", maximum_length=14) gpi_gpi_id = fail_if_error(in0.tvefc4);



/*   Default value   */
ggpd_src_update_ts=fail_if_error(string_concat(date_check(in0.tvbmdt)," ",string_substring(time_check(in0.tvabtm),1,2),":",string_substring(time_check(in0.tvabtm),3,2),":",string_substring(time_check(in0.tvabtm),5,2)));

/*   Default value   */
ggpd_pkg_desc=fail_if_error(first_defined(bzt_2_6c54cc0a_5bed2861_2e80_2(in0.tvedc4).sobxt3,'-'));

/*   Default value   */
ggpd_src_insert_ts=fail_if_error(string_concat(date_check(in0.tvc2dt)," ",string_substring(time_check(in0.tvadtm),1,2),":",string_substring(time_check(in0.tvadtm),3,2),":",string_substring(time_check(in0.tvadtm),5,2)));

  out0.ggpd.gpi_gppc_sk::ggpd_gpi_gppc_sk;
  out0.ggpd.gpi_sk::ggpd_gpi_sk;
  out0.ggpd.gppc_id::ggpd_gppc_id;
  out0.ggpd.gpi_id::ggpd_gpi_id;
  out0.ggpd.pkg_desc_cd::ggpd_pkg_desc_cd;
  out0.ggpd.pkg_desc::ggpd_pkg_desc;
  out0.ggpd.pkg_size::ggpd_pkg_size;
  out0.ggpd.pkg_size_uom_cd::ggpd_pkg_size_uom_cd;
  out0.ggpd.pkg_qty::ggpd_pkg_qty;
  out0.ggpd.drg_unit_dose_use_ind::ggpd_drg_unit_dose_use_ind;
  out0.ggpd.gppc_suffix_3::ggpd_gppc_suffix_3;
  out0.ggpd.stat_cd::ggpd_stat_cd;
  out0.ggpd.src_insert_uid::ggpd_src_insert_uid;
  out0.ggpd.src_insert_ts::ggpd_src_insert_ts;
  out0.ggpd.src_insert_prog_nm::ggpd_src_insert_prog_nm;
  out0.ggpd.src_update_uid::ggpd_src_update_uid;
  out0.ggpd.src_update_ts::ggpd_src_update_ts;
  out0.ggpd.src_update_prog_nm::ggpd_src_update_prog_nm;
  out0.ggpd.src_env_sk::ggpd_src_env_sk;
  out0.gpi.gpi_id::gpi_gpi_id;
  out0.*::in0.*;

end;
