type header_rec =
record
        string(8)       run_date;
        string(8)       period_beginning_date;
        string(8)       period_ending_date;
        string(2)       edss_access_code;
        string("\r\n")  newline = NULL("");
end;

type member_rec =
record
        string(9)       carrier_id                       = NULL("");
        string(15)      account_id                       = NULL("");
        string(15)      group_id                         = NULL("");
        string(6)       rxbin                            = NULL("");
        string(10)      rxpcn                            = NULL("");
        string(15)      submited_group                   = NULL("");
        string(18)      member_id                        = NULL("");
        string(15)      member_first_name                = NULL("");
        string(1)       member_middle_initial            = NULL("");
        string(25)      member_last_name                 = NULL("");
        string(40)      member_street_address_line_1     = NULL("");
        string(20)      member_city                      = NULL("");
        string(2)       member_state                     = NULL("");
        string(5)       member_zip_code                  = NULL("");
        string(4)       member_zip_code_4                = NULL("");
        string(10)      plan_annual_deductible           = NULL("");
        string(10)      member_and_qualified_others_drug_spend_in_annual_deductible_benefit_phase               = NULL("");
        string(10)      deductible_phase_amount_remaining_before_next_benefit_phase                             = NULL("");
        string(10)      initial_coverage_amount_limit                                                           = NULL("");
        string(10)      member_and_qualified_others_drug_spend_in_initial_coverage_benefit_phase                = NULL("");
        string(10)      initial_coverage_phase_amount_remaining_before_entering_coverage_gap_benefit_phase      = NULL("");
        string(10)      member_and_qualified_others_troop_in_coverage_gap_benefit_phase                         = NULL("");
        string(10)      coverage_gap_amount_limit                                                               = NULL("");
        string(10)      coverage_gap_benefit_phase_amount_remaining_before_entering_catastrophic_benefit_phase  = NULL("");
        string(10)      yeartodate_total_drug_cost       = NULL("");
        string(10)      monthtodate_total_drug_cost      = NULL("");
        string(10)      yeartodate_troop_amount          = NULL("");
        string(10)      monthtodate_troop_amount         = NULL("");
        string(11)      monthtodate_plan_and_others_paid = NULL("");
        string(11)      yeartodate_plan_and_others_paid  = NULL("");
        string(8)       financial_information_reporting_fir_adjustment_date_from_previous_plan          = NULL("");
        string(10)      financial_information_reporting_adjustments_to_troop_from_previous_plan         = NULL("");
        string(10)      financial_information_reporting_adjustments_to_drug_spend_from_previous_plan    = NULL("");
        string(2)       member_subsidy_level_indicator                     = NULL("");
        string(1)       benefit_phase_indicator                            = NULL("");
        string(10)      mtd_preferred_mail_savings                         = NULL("");
        string(10)      ytd_preferred_mail_savings                         = NULL("");
        string(10)      amount_paid_that_does_not_count_toward_troop_mtd   = NULL("");
        string(10)      amount_paid_that_does_not_count_toward_troop_ytd   = NULL("");
        string(40)      address_line_2                                     = NULL("");
        string(40)      address_line_3                                     = NULL("");
        string(10)      total_plan_paid_in_deductible_stage                = NULL("");
        string(10)      total_you_others_on_your_behalf_paid_in_deductible = NULL("");
        string(10)      total_you_others_on_your_behalf_paid_in_deductible_period_that_counted_toward_your_outofpocket_costs_troop              = NULL("");
        string(10)      total_you_others_on_your_behalf_paid_in_deductible_period_that_didnt_count_toward_your_outofpocket_costs_troop_         = NULL("");
        string(10)      total_drug_costs_left_to_move_to_the_initial_coverage_period    = NULL("");
        string(10)      total_plan_paid_in_initial_coverage_period                      = NULL("");
        string(10)      total_you_others_on_your_behalf_paid_in_initial_coverage_period = NULL("");
        string(10)      total_you_others_on_your_behalf_paid_in_initial_coverage_period_that_counted_toward_your_outofpocket_costs_troop        = NULL("");
        string(10)      total_you_others_on_your_behalf_paid_in_initial_coverage_period_that_did_not_count_toward_your_outofpocket_costs_troop  = NULL("");
        string(10)      total_drug_costs_left_before_the_coverage_gap                   = NULL("");
        string(10)      total_plan_paid_in_coverage_gap                                 = NULL("");
        string(10)      total_you_others_on_your_behalf_paid_in_coverage_gap            = NULL("");
        string(10)      total_you_others_on_your_behalf_paid_in_coverage_gap_that_counted_toward_your_outofpocket_costs_troop                   = NULL("");
        string(10)      total_you_others_on_your_behalf_paid_in_coverage_gap_that_did_not_count_toward_your_outofpocket_costs_troop             = NULL("");
        string(10)      outofpocket_costs_troop_left_before_catastrophic_coverage       = NULL("");
        string(10)      total_plan_paid_in_catastrophic_coverage                        = NULL("");
        string(10)      total_you_others_on_your_behalf_paid_in_catastrophic_coverage   = NULL("");
        string(3)       language_indicator                                = NULL("");
        string(6)       duncan_logo_id                                    = NULL("");
        string(2)       eob_mail_vs_online_indicator                      = NULL("");
        string(8)       run_date                                          = NULL("");
        string(8)       period_beginning_date                             = NULL("");
        string(8)       period_ending_date                                = NULL("");
        string(2)       edss_access_code                                  = NULL("");
        string(10)      yeartodate_amount_paid_by_you                     = NULL("");
        string(10)      yeartodate_amount_paid_by_others                  = NULL("");
        string(10)      yeartodate_plan_paid                              = NULL("");
        string(10)      yeartodate_others_paid_that_counted_towards_troop = NULL("");
        string(1)       fir_deductible_flag                               = NULL("");
        string(1)       split_tier_dual_coverage_indicator                = NULL("");
        string(12)      moop_member_pay                                   = NULL("");
        string(11)      member_hicn_id                                    = NULL("");//This field was added later by Chris instead of filler
        string("\r\n")  newline                                           = NULL("");
end;

type plan_rec =
record
        string(9)       carrier_id    = NULL("");
        string(15)      account_id    = NULL("");
        string(15)      group_id      = NULL("");
        string(60)      eob_plan_name = NULL("");
        string(10)      catastrophic_coverage_threshold_4050 = NULL("");
        string(10)      catastrophic_copayment_coinsurance_amounts_value_1 = NULL("");
        string(10)      catastrophic_copayment_coinsurance_amounts_value_2 = NULL("");
        string(10)      catastrophic_copayment_coinsurance_amounts_value_3 = NULL("");
        string(10)      customer_service_toll_free_number    = NULL("");
        string(10)      customer_service_ttytdd              = NULL("");
        string(60)      website                              = NULL("");
        string(60)      customer_service_hours_of_operation  = NULL("");
        string(10)      mail_service_toll_free_number        = NULL("");
        string(10)      mail_service_ttytdd                  = NULL("");
        string(60)      mail_service_hours_of_operation      = NULL("");
        string(6)       duncan_logo_id                       = NULL("");
        string(40)      return_address_line_1                = NULL("");
        string(20)      return_address_city                  = NULL("");
        string(2)       return_address_state                 = NULL("");
        string(5)       return_address_zip                   = NULL("");
        string(4)       return_address_zip_4                 = NULL("");
        string(2)       coverage_in_the_gap_indicator        = NULL("");
        string(2)       medicare_plan_type_                  = NULL("");
        string(5)       contract_id                          = NULL("");
        string(3)       pbp_id                               = NULL("");
        string(15)      message_code                         = NULL("");
        string(20)      plan_type                            = NULL("");
        string(40)      return_address_line_2                = NULL("");
        string(10)      deductible_amount                    = NULL("");
        string(1)       split_tier_indicator                 = NULL("");
        string(1)       suppress_section_2_indicator         = NULL("");
        string(10)      troop_amount                         = NULL("");
        string(16)      filler_for_16_bytes                  = NULL("");
        string("\r\n")  newline                              = NULL("");
end;

type claim_rec =
record
        string(9)       carrier_id                           = NULL("");
        string(15)      account_id                           = NULL("");
        string(15)      group_id                             = NULL("");
        string(18)      member_id                            = NULL("");
        string(15)      rxclaim_number                       = NULL("");
        string(3)       sequence_number                      = NULL("");
        string(1)       claim_status                         = NULL("");
        string(15)      provider_id                          = NULL("");
        string(60)      pharmacy_name_                       = NULL("");
        string(1)       out_of_network_pharmacy_indicator    = NULL("");
        string(55)      pharmacy_address_1                   = NULL("");
        string(55)      pharmacy_address_2                   = NULL("");
        string(30)      pharmacy_city                        = NULL("");
        string(2)       pharmacy_state_abbreviation          = NULL("");
        string(9)       rx_number_filler                     = NULL("");
        string(2)       refill_number                        = NULL("");
        string(8)       fill_date                            = NULL("");
        string(8)       submit_date                          = NULL("");
        string(30)      product_name_dosage                  = NULL("");
        string(12)      dispensed_quantity                   = NULL("");
        string(3)       days_supply                          = NULL("");
        string(10)      patient_pay_before_lics              = NULL("");
        string(4)       drug_tier                            = NULL("");
        string(10)      retail_price_uc_w_                   = NULL("");
        string(10)      total_drug_cost_                     = NULL("");
        string(1)       drug_coverage_status_code            = NULL("");
        string(1)       eap_drug_flag                        = NULL("");
        string(10)      amount_paid_by_plan                  = NULL("");
        string(10)      amount_paid_by_you                   = NULL("");
        string(10)      plro_cob_payer_amount_               = NULL("");
        string(10)      others_paid                          = NULL("");
        string(10)      lics_adjustment_amount               = NULL("");
        string(10)      preferred_mail_service_savings       = NULL("");
        string(30)      lower_cost_drug_name_1               = NULL("");
        string(30)      lower_cost_drug_name_2               = NULL("");
        string(30)      lower_cost_drug_name_3               = NULL("");
        string(30)      lower_cost_drug_range_of_savings     = NULL("");
        string(10)      other_troop                          = NULL("");
        string(10)      monthtodate_amount_paid_by_you       = NULL("");
        string(10)      monthtodate_amount_paid_by_others    = NULL("");
        string(10)      monthtodate_plan_paid                = NULL("");
        string(10)      monthtodate_total_drug_cost          = NULL("");
        string(10)      monthtodate_retail_price             = NULL("");
        string(10)      yeartodate_amount_paid_by_you        = NULL("");
        string(10)      yeartodate_amount_paid_by_others     = NULL("");
        string(10)      yeartodate_plan_paid                 = NULL("");
        string(10)      yeartodate_total_drug_cost           = NULL("");
        string(10)      yeartodate_retail_price              = NULL("");
        string(10)      monthtodate_cob_payer_amount         = NULL("");
        string(10)      yeartodate_cob_payer_amount          = NULL("");
        string(10)      monthtodate_others_paid_that_counted_towards_troop = NULL("");
        string(10)      yeartodate_others_paid_that_counted_towards_troop  = NULL("");
        string(10)      gap_discount_amount                  = NULL("");
        string(2)       formulary_change_code_id             = NULL("");
        string(12)      rxnumber                             = NULL("");
        string(8)       formulary_change_effective_date      = NULL("");
        string(90)      filler                               = NULL("");
        string("\r\n")  newline                              = NULL("");
end;

type formulary_rec =
record
        string(9)       carrier_id                             = NULL("");
        string(15)      account_id                             = NULL("");
        string(15)      group_id                               = NULL("");
        string(18)      member_id                              = NULL("");
        string(10)      type_of_change                         = NULL("");
        string(60)      affected_drug                          = NULL("");
        string(50)      description_of_change                  = NULL("");
        string(50)      reason_for_change                      = NULL("");
        string(60)      alternative_drug                       = NULL("");
        string(50)      alternative_drug_copayment_coinsurance = NULL("");
        string(8)       effective_date                         = NULL("");
        string(30)      variable_text_drug_name_in_the_event_of_change_to_preferred_or_tiered_cost_sharing_stauts = NULL("");
        string(1)       data_trigger_to_identify_negative_change_identifier_asterisk_at_print_vendor              = NULL("");
        string(1)       data_trigger_to_identify_prior_authorization_statement_per_cms_model                      = NULL("");
        string(1)       data_trigger_to_identify_quantity_limits_statement_and_variable_drug_name_per_cms_model   = NULL("");
        string(1)       data_trigger_to_identify_step_therapy_statement_per_cms_model                             = NULL("");
        string(2)       formulary_change_code_id              = NULL("");
        string(1)       affected_drug_current_tier            = NULL("");
        string(1)       affected_drug_new_tier                = NULL("");
        string(60)      quantity_limits_description           = NULL("");
        string(30)       manufacturer_name                     = NULL("");
        string(6)       filler                                = NULL("");
        string("\r\n")  newline                               = NULL("");
end ;

type trailer_rec =
record
        string(9)       member_record_count;
        string(9)       plan_detail_record_count;
        string(9)       claim_detail_record_count;
        string(9)       bonus_detail_record_count;
        string(9)       formulary_record_count;
        string("\r\n")  newline = NULL("");
end;

type print_file_type  =
record
        string(2) record_identifier;

        if(record_identifier == "HD")
                header_rec hdr;

        else if(record_identifier == "MD")
                member_rec mbr;

        else if(record_identifier == "PD")
                plan_rec plan;

        else if(record_identifier == "CD")
                claim_rec claim ;

        else if(record_identifier == "BD")
                claim_rec bonus ;

        else if(record_identifier == "FD")
                formulary_rec formulary;

        else if(record_identifier == "TD")
                trailer_rec trailer;
end ;


metadata type  =
record
        string(2) record_identifier;

        if(record_identifier == "HD")
                header_rec hdr;

        else if(record_identifier == "MD")
                member_rec mbr;

        else if(record_identifier == "PD")
                plan_rec plan;

        else if(record_identifier == "CD")
                claim_rec claim ;

        else if(record_identifier == "BD")
                claim_rec bonus ;

        else if(record_identifier == "FD")
                formulary_rec formulary;

        else if(record_identifier == "TD")
                trailer_rec trailer;
end ;

